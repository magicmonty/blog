extends layout

block navigation
  mixin navigation("home")

block content
  include author
  include comments
  include categories

  //- underscore helps us filter and sort our articles
  - var articles = _.chain(env.helpers.getArticles(contents)).first(locals.index_articles).value() // and finally take the first 5
  each article in articles
    article.index(itemscope="itemscope", itemtype="http://schema.org/BlogPosting")
      header
        h1(itemprop="name")
          a(href=article.url, rel="bookmark", title="Permanent Link: " + article.title)= article.title
        div.post-meta.hidden-xs
          +comments(article.url)
          div.date
            span(data-date=article.metadata.date)= article.metadata.date
          div.info
            | von
            +author(article.metadata.author)
            if article.metadata.category
              |  in
              +categories(article.metadata.category)
      div.content(itemprop="description articleBody")!= typogr(article.intro).typogrify()
      if article.hasMore
        p.read-more
          a(href=article.url) read more

  a#archive(href='archive.html') Visit the archives!


block append scripts
  script.
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'pagansoft'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());

